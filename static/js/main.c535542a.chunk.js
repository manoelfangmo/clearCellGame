(this["webpackJsonpclear-cell-game"]=this["webpackJsonpclear-cell-game"]||[]).push([[0],[,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var o=r(1),n=r.n(o),c=r(3),l=r.n(c),a=(r(10),r(2)),s=(r(11),r(5)),i=(r(12),r(0));function u(e){var t=e.open,r=e.onClose,n=e.width,c=e.length,u=e.configGrid,b=e.configSpeed,d=Object(o.useState)({width:n,length:c}),j=Object(a.a)(d,2),g=j[0],f=j[1];if(!t)return null;for(var h=[],O=1;O<=10;O++)h.push(O);for(var m=[],y=1;y<=10;y++)m.push(y);var v=function(e){var t=e.target.name,r=e.target.value;g[t]=r,f(Object(s.a)({},g)),console.log("state",g)};return l.a.createPortal(Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"overlay"}),Object(i.jsxs)("div",{className:"modal",children:[Object(i.jsxs)("form",{action:"",children:[Object(i.jsx)("label",{htmlFor:"length",children:"Length:"}),Object(i.jsx)("select",{name:"length",value:g.length,onChange:v,children:h.map((function(e,t){return Object(i.jsx)("option",{value:e,children:e})}))})," ",Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"width",children:"Width:  "}),Object(i.jsx)("select",{name:"width",value:g.width,onChange:v,children:m.map((function(e){return Object(i.jsx)("option",{value:e,children:e})}))})," ",Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"speed",children:"Speed:  "}),Object(i.jsxs)("select",{name:"length",value:"Easy",onChange:function(e){var t=e.target.value;b("Hard"===t?500:"Medium"===t?750:1e3)},children:[Object(i.jsx)("option",{value:"Easy",children:"Easy"}),Object(i.jsx)("option",{value:"Medium",children:"Medium"}),Object(i.jsx)("option",{value:"Hard",children:"Hard"})]})," ",Object(i.jsx)("br",{})]}),Object(i.jsx)("button",{onClick:function(){r(),u(g.length,g.width)},type:"submit",children:"Submit"})]})]}),document.getElementById("portal"))}r(14);function b(e){var t=e.score;return Object(i.jsx)("h1",{className:"scoreBoard",children:t})}r(15);function d(e){if(!e.gameOver)return null;return l.a.createPortal(Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"overlay1"}),Object(i.jsx)("div",{className:"modal1",children:Object(i.jsx)("button",{onClick:function(){window.location.reload(!1)},className:"button",children:"Restart"})})]}),document.getElementById("portal1"))}function j(){var e=Object(o.useState)(!0),t=Object(a.a)(e,2),r=t[0],n=t[1],c=Object(o.useState)(!1),l=Object(a.a)(c,2),s=l[0],j=l[1],g=Object(o.useState)(10),f=Object(a.a)(g,2),h=f[0],O=f[1],m=Object(o.useState)(5),y=Object(a.a)(m,2),v=y[0],C=y[1],k=Object(o.useState)(0),p=Object(a.a)(k,2),w=p[0],x=p[1],S=Object(o.useState)({row:0,col:0,clicked:!1}),N=Object(a.a)(S,2),J=N[0],E=N[1],F=Object(o.useState)(!1),M=Object(a.a)(F,2),I=M[0],B=M[1],G=Object(o.useState)(1e3),T=Object(a.a)(G,2),H=T[0],R=T[1];function P(e,t,r){var o=this,n={className:"cell",id:"cell"+t+r,row:t,column:r,style:{backgroundColor:"white",set:function(e){o.backgroundColor=e}}};e[t][r]=n}for(var L=Object(o.useState)([]),W=Object(a.a)(L,2),q=W[0],z=W[1],A={gridTemplateColumns:" ",gridTemplateRows:" "},D=0;D<h;D++)A.gridTemplateRows+="7% ";for(var K=0;K<v;K++)A.gridTemplateColumns+="7% ";Object(o.useEffect)((function(){z(function(e,t){for(var r=[],o=0;o<e;o++){r[o]=[];for(var n=0;n<t;n++)P(r,o,n)}return r}(h,v))}),[h,v]);var Q=["blue","red","yellow","green"],U=function(){var e=Math.floor(Math.random()*Q.length);return{backgroundColor:Q[e]}},V=function(){for(var e=!1,t=h-1,r=0;r<v;r++)if("white"!==q[t][r].style.backgroundColor){B(!0),e=!0;break}return e};Object(o.useEffect)((function(){if(s&&!1===V()){var e=setInterval((function(){X()}),H);return function(){clearInterval(e)}}}),[s,q]);var X=function(){if(!1===V()){for(var e=JSON.parse(JSON.stringify(q)),t=JSON.parse(JSON.stringify(q)),r=0;r<h-1;r++){t[r+1]=JSON.parse(JSON.stringify(e[r]));for(var o=0;o<v;o++)t[r+1][o].row=e[r+1][o].row}for(var n=0;n<v;n++)t[0][n].style=U();z(t)}},Y=function(e,t){var r=!1;return(e<0||e>=h||t<0||t>=v)&&(r=!0),r},Z=function(e,t){for(var r=0;r<v;r++)if("white"!==t[e][r].style.backgroundColor)return!1;return!0};return Object(o.useEffect)((function(){J.clicked&&function(e,t){console.log("process",e,t);var r=JSON.parse(JSON.stringify(q)),o=0;"white"!==r[e][t].style.backgroundColor&&(Y(e-1,t)||r[e-1][t].style.backgroundColor!==r[e][t].style.backgroundColor||(r[e-1][t].style={backgroundColor:"white"},o++),Y(e+1,t)||r[e+1][t].style.backgroundColor!==r[e][t].style.backgroundColor||(r[e+1][t].style={backgroundColor:"white"},o++),Y(e-1,t-1)||r[e-1][t-1].style.backgroundColor!==r[e][t].style.backgroundColor||(r[e-1][t-1].style={backgroundColor:"white"},o++),Y(e+1,t+1)||r[e+1][t+1].style.backgroundColor!==r[e][t].style.backgroundColor||(r[e+1][t+1].style={backgroundColor:"white"},o++),Y(e,t-1)||r[e][t-1].style.backgroundColor!==r[e][t].style.backgroundColor||(r[e][t-1].style={backgroundColor:"white"},o++),Y(e,t+1)||r[e][t+1].style.backgroundColor!==r[e][t].style.backgroundColor||(r[e][t+1].style={backgroundColor:"white"},o++),Y(e+1,t-1)||r[e+1][t-1].style.backgroundColor!==r[e][t].style.backgroundColor||(r[e+1][t-1].style={backgroundColor:"white"},o++),Y(e-1,t+1)||r[e-1][t+1].style.backgroundColor!==r[e][t].style.backgroundColor||(r[e-1][t+1].style={backgroundColor:"white"},o++),r[e][t].style={backgroundColor:"white"},o++,x((function(e){return e+o})));for(var n=h-2;n>0;n--)if(!0===Z(n,r)){console.log("row empty",n);for(var c=n;c<h-1;c++){console.log("copying row",c+1,"to",c),console.log("setting row",c+1,"to white");for(var l=0;l<v;l++)r[c][l]=JSON.parse(JSON.stringify(r[c+1][l])),r[c][l].row=c,r[c+1][l].style={backgroundColor:"white"}}}else console.log(" row not empty",n);z((function(e){return r}))}(J.row,J.col)}),[J]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"grid",style:A,children:q.map((function(e){return e.map((function(e){return Object(i.jsx)("span",{className:e.className,style:e.style,onClick:function(){return E({row:e.row,col:e.column,clicked:!0})},id:e.id})}))}))}),Object(i.jsx)("button",{onClick:function(){return n(!0)},className:"settings",children:"Game Settings"}),Object(i.jsx)("button",{onClick:function(){return j(!0)},className:"start",children:"Start Game"}),Object(i.jsx)(u,{open:r,onClose:function(){return n(!1)},length:h,width:v,configGrid:function(e,t){O(Number(e)),C(Number(t))},configSpeed:function(e){R(Number(e))}}),Object(i.jsx)(b,{score:w}),Object(i.jsx)(d,{gameOver:I})]})}var g=function(){return Object(i.jsx)("div",{className:"app",children:Object(i.jsx)(j,{})})};l.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(g,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.c535542a.chunk.js.map